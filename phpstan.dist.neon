parameters:
    level: 8
    paths:
        - src/
        - tests/

    # Répertoires à ignorer (pas utiles à analyser)
    excludePaths:
        analyse:
            - bin/
            - var/
            - vendor/
            - public/
            - config/
            - src/Kernel.php

    # Pour les conteneurs Symfony
    symfony:
        container_xml_path: var/cache/dev/App_KernelDevDebugContainer.xml

    # Pour ignorer certains patterns connus (si tu veux réduire le bruit)
    ignoreErrors:
        # Exemple : erreurs sur les propriétés dynamiques dans les mocks PHPUnit
        - '#Access to an undefined property PHPUnit\\Framework\\MockObject\\MockObject#'

        # Exemple : variables de template Twig (si utilisées dans les contrôleurs)
        - '#Variable \$[a-zA-Z0-9_]+ might not be defined#'

    # Vérifie les types PHPDoc et return de méthodes
    checkMissingIterableValueType: true
    checkGenericClassInNonGenericObjectType: true
    checkUninitializedProperties: true

    # Active la découverte des extensions (Symfony, Doctrine, etc.)
    scanDirectories:
        - vendor/

includes:
    # Extensions PHPStan utiles
    - vendor/phpstan/phpstan-doctrine/extension.neon
    - vendor/phpstan/phpstan-doctrine/rules.neon
    - vendor/phpstan/phpstan-symfony/extension.neon
    - vendor/phpstan/phpstan-symfony/rules.neon
    - vendor/phpstan/phpstan-phpunit/extension.neon
    - vendor/phpstan/phpstan-phpunit/rules.neon
